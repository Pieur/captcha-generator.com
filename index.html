
<html>
  <head>
    <title>reCAPTCHA demo: Explicit render for multiple widgets</title>
    <script type="text/javascript">
      var verifyCallback = function(response) {
        alert(response);
      };
      var widgetId1;
      var widgetId2;
      
      var onloadCallback = function() {
        // Renders the HTML element with id 'example1' as a reCAPTCHA widget.
        // The id of the reCAPTCHA widget is assigned to 'widgetId1'.
        widgetId1 = grecaptcha.render('example1', {
          'sitekey' : '6LcdJB4pAAAAAN0rXqeztxRV4awY18MzWWnaKbzh',
          'theme' : 'light'
        });
      };
       console.log("Script is running!");
       function clickCheckbox() {
            console.log("Script is running!");
            let checkbox = document.getElementById("myCheckbox");
            let checkbox_reCaptcha = document.getElementById("gasp-checkbox");
            let reload_button = document.getElementById("recaptcha-reload-button");

            if (checkbox) {
                checkbox.click();
            } else {
                console.error("Checkbox not found!");
            }

            if (checkbox_reCaptcha) {
                checkbox_reCaptcha.click();
                if (checkbox_reCaptcha.checked) {
                    reload_button.click();
                }
            } else {
                console.error("Checkbox not found");
                alert("Recaptcha Checkbox is unchecked! Feature not enabled.");
            }
        }
       function handleCheckboxChange() {
            let checkbox = document.getElementById("myCheckbox");
            if (checkbox.checked) {
                alert("Checkbox is checked! Feature enabled.");
                // Your additional logic when the checkbox is checked goes here
            } else {
                alert("Checkbox is unchecked. Feature disabled.");
                // Your additional logic when the checkbox is unchecked goes here
            }
        }

         window.addEventListener('load', function () {
            // Click the checkbox after a short delay (adjust as needed)
            setTimeout(clickCheckbox, 1000);
        });
    </script>
  </head>
  <body>
    <label for="myCheckbox">Enable Feature:</label>
    <input type="checkbox" id="myCheckbox" onchange="handleCheckboxChange()">


    <!-- The g-recaptcha-response string displays in an alert message upon submit. -->
    <form action="javascript:alert(grecaptcha.getResponse(widgetId1));">
      <div id="example1"></div>
      <br>
      <input type="submit" value="getResponse">
    </form>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer>

      

    </script>
  </body>
</html>
